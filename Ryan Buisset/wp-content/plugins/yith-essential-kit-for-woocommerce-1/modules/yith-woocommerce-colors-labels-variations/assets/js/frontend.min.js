!function(t,e,n){t.fn.yith_wccl=function(){var e=this,n=(e.data("last_change"),e.find(".variations select"));return this.clean=function(){return e.find(".select_box").remove(),this},this.generateOutput=function(){return n.each(function(){var e=t(this),n=t(this).data("type"),a=t("<div />",{"class":"select_box_"+n+" select_box "+e.attr("name")}).insertAfter(e);e.removeData("last_content"),e.find("option").each(function(){if(t(this).data("value")){var i="select_option_"+n+" select_option",c=t(this).data("value"),s=t(this),o=t("<div/>",{"class":i}).data("value",t(this).attr("value")).data("option",s.clone(!0)).appendTo(a).off("click").on("click",function(n){t(this).hasClass("selected")?e.val("").change():(n.preventDefault(),e.val(s.val()).change())});"colorpicker"==n?o.append(t("<span/>",{css:{background:c}})):"image"==n?o.append(t("<img/>",{src:c})):"label"==n&&o.append(t("<span/>",{text:c}))}})}).filter(function(){return"select"!=t(this).data("type")}).hide(),e},this.onSelect=function(){return n.each(function(){var e=t(this).val(),n=t(this).next(".select_box");n.length||(n=t(this).siblings(".select_box")),n=n.find(".select_option").removeClass("selected"),e&&n.filter(function(){return t(this).data("value")==e}).addClass("selected")}),e},this.updateOptions=function(){return"undefined"==typeof yith_wccl_arg||yith_wccl_arg.is_wc24||e.find(".variations select").each(function(e,n){var a=t(this),i=a.val(),c=a.data("active_options")?a.data("active_options"):a.data("attribute_options");return c?void(""!=i?t.each(c,function(t,e){a.append(e)}):a.data("active_options",a.find("option").get())):!1}),e},this.updateOptions().clean().generateOutput().onSelect()},jQuery(function(t){var e=t(".variations_form"),a=e.find(".variations select");t(n).on("yith_wccl_change check_variations",e,function(){t(this).yith_wccl()}).trigger("yith_wccl_change"),t(n).on("change",a,function(){e.data("last_change",t(this).attr("name")),t(this).data("last_content",t(this).siblings(".select_box").clone(!0))}),t(n).on("click",".reset_variations",function(){a.removeData("last_content"),e.removeData("last_change")}),a.trigger("focusin")})}(jQuery,window,document);