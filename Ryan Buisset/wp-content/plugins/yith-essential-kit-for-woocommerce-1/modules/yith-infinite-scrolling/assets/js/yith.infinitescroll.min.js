!function(t,e,n){"use strict";t.fn.yit_infinitescroll=function(i){t(e).unbind("yith_infs_start");var r=t.extend({nextSelector:!1,navSelector:!1,itemSelector:!1,contentSelector:!1,maxPage:!1,loader:!1,is_shop:!1},i),l=!1,s=!1,a=t(r.nextSelector).attr("href");t(r.nextSelector).length&&t(r.navSelector).length&&t(r.itemSelector).length&&t(r.contentSelector).length?t(r.navSelector).hide():s=!0;var o=t(r.contentSelector).find(r.itemSelector).first(),c=o.nextUntil(".first",r.itemSelector).length+1,f=function(){var e=t(r.contentSelector).find(r.itemSelector).last();r.loader&&t(r.navSelector).after('<div class="yith-infs-loader">'+r.loader+"</div>"),l=!0,t.ajax({url:a,dataType:"html",success:function(i){var o=t(i),f=o.find(r.itemSelector),d=o.find(r.nextSelector);d.length?a=d.attr("href"):s=!0,!e.hasClass("last")&&r.is_shop&&h(e,c,f),e.after(f),t(".yith-infs-loader").remove(),t(n).trigger("yith_infs_adding_elem"),f.addClass("yith-infs-animated"),setTimeout(function(){l=!1,f.removeClass("yith-infs-animated"),t(n).trigger("yith_infs_added_elem")},1e3)}})},h=function(e,n,i){var l=n-e.prevUntil(".last",r.itemSelector).length,s=0;i.each(function(){var e=t(this);s++,e.removeClass("first"),e.removeClass("last"),(s-l)%n===0?e.addClass("first"):(s-(l-1))%n===0&&e.addClass("last")})};t(e).on("scroll touchstart",function(){t(this).trigger("yith_infs_start")}),t(e).on("yith_infs_start",function(){var e=t(this),n=t(r.itemSelector).last().offset();!l&&!s&&e.scrollTop()>=Math.abs(n.top-(e.height()-150))&&f()})}}(jQuery,window,document);