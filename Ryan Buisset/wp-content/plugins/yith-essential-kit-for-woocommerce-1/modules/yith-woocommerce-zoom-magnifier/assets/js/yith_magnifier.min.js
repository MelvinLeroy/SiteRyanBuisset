!function(a,b,c){"use strict";b.fn.imagesLoaded===c&&!function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(d){function l(){var b=a(j),c=a(k);f&&(k.length?f.reject(h,b,c):f.resolve(h)),a.isFunction(d)&&d.call(e,h,b,c)}function m(a){n(a.target,"error"===a.type)}function n(b,d){b.src!==c&&a.inArray(b,i)===-1&&(i.push(b),d?k.push(b):j.push(b),a.data(b,"imagesLoaded",{isBroken:d,src:b.src}),g&&f.notifyWith(a(b),[d,h,a(j),a(k)]),h.length===i.length&&(setTimeout(l),h.unbind(".imagesLoaded",m)))}var e=this,f=a.isFunction(a.Deferred)?a.Deferred():0,g=a.isFunction(f.notify),h=e.find("img").add(e.filter("img")),i=[],j=[],k=[];return a.isPlainObject(d)&&a.each(d,function(a,b){"callback"===a?d=b:f&&f[a](b)}),h.length?h.bind("load.imagesLoaded error.imagesLoaded",m).each(function(d,e){var f=e.src,g=a.data(e,"imagesLoaded");return g&&g.src===f?void n(e,g.isBroken):e.complete&&e.naturalWidth!==b?void n(e,0===e.naturalWidth||0===e.naturalHeight):void((e.readyState||e.complete)&&(e.src=c,e.src=f))}):l(),f?f.promise(e):e}}(jQuery),b.yith_magnifier=function(a,c){this.t=c,this.element=b(c),this._init(a)},b.yith_magnifier.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:!1,tintOpacity:.5,lensOpacity:.5,softFocus:!1,smoothMove:3,showTitle:!0,titleOpacity:.5,adjustX:0,adjustY:0,phoneBehavior:"inside",loadingLabel:"Loading...",enableSlider:!0,slider:"carouFredSel",sliderOptions:{},onLoad:function(){return!1},onEnter:function(){return!1},onLeave:function(){return!1},onMove:function(){return!1},onClick:function(){return!1},elements:{zoom:b(".yith_magnifier_zoom"),zoomImage:b(".yith_magnifier_zoom img").first(),gallery:b(".yith_magnifier_gallery li a")}},b.yith_magnifier.prototype={_init:function(a){var c=this;b(document).trigger("yith_magnifier_before_init"),b.each(b.yith_magnifier.defaults.elements,function(a,d){var e=b.yith_magnifier.defaults.elements;e[a]=b(d,c)}),c.options=b.extend(!0,{},b.yith_magnifier.defaults,a),c.isPhone=c._isPhone(),c._loading(),c.element.imagesLoaded(function(){c.options.onLoad(),c._initZoom(),c._initGallery()}),b(document).trigger("yith_magnifier_after_init")},_initGallery:function(){var a=this,c=a.options.elements,d=c.gallery,e=c.zoom,f=c.zoomImage;d.length>0?(d.on("click",function(c){c.preventDefault();var d=b(this);a.destroy(),e.attr("href",this.href),f.attr("src",d.data("small")).attr("srcset",d.data("small")).attr("src-orig",d.data("small")).attr("title","").attr("title",d.attr("title")),b.data(a.t,"yith_magnifier",new b.yith_magnifier(a.options,a.element))}),a.options.enableSlider&&(d.closest("ul").trigger("yith_magnifier_slider_destroy"),d.closest("ul")[a.options.slider](a.options.sliderOptions))):d.on("click",function(a){return a.preventDefault(),!1})},_loading:function(){if(this.options.disableRightClick&&b(document).on("contextmenu",function(a){return!1}),this.mouseTrap===c){var a=this.options.elements.zoom.width();this.options.loadingLabel&&b('<div class="yith_magnifier_loading">'+this.options.loadingLabel+"</div>").css({width:a,"text-align":"center",opacity:.5}).appendTo(this.options.elements.zoom.parent())}},_initZoom:function(){var a=this;a.zoom=a.options.elements.zoom,a.zoomImage=a.options.elements.zoomImage;var c="yith_magnifier_zoom_wrap";a.options.zoom_wrap_additional_css&&(b("."+c).length||(c+=" "+a.options.zoom_wrap_additional_css)),a.zoom.wrap('<div class="'+c+'"></div>'),a.IMG_zoomImage=new Image,a.IMG_zoomImage.src=a.zoom.attr("href"),a.IMG_smallImage=new Image,a.IMG_smallImage.src=a.zoomImage.attr("src"),b.browser&&b.browser.msie&&8==b.browser.version?b(a.IMG_zoomImage).load(function(){a._initTrap()}):b([a.IMG_zoomImage,a.IMG_smallImage]).imagesLoaded(function(){a._initTrap()}),b(document).trigger("yith_magnifier_after_init_zoom")},_initTrap:function(){var a=this,c=a.IMG_zoomImage;a.IMG_smallImage;a.mx=0,a.my=0,a.controlTimer=0,a.lens=null,a.tint=null,a.softFocus=null,a.zoomDiv=null,a.cw=0,a.ch=0,a.zw=0,a.destU=0,a.destV=0,a.currU=0,a.currV=0,a.mouseTrap=null;var e=a.options.elements.zoom,f=a.options.elements.zoomImage;b(".yith_magnifier_loading").remove(),this.element.find(".yith_magnifier_mousetrap")&&this.element.find(".yith_magnifier_mousetrap").remove(),this.mouseTrap=b('<div class="yith_magnifier_mousetrap" />').css({width:"100%",height:"100%",top:0,left:0}).appendTo(e.parent());var g="ontouchstart"in document.documentElement,h="touchmove mousemove",i="touchend mouseleave",j="touchstart mouseenter",k="touchstart click";this.mouseTrap.on(h,this,function(b){a.options.onMove(),a.mx="undefined"!=typeof b.originalEvent.touches?b.originalEvent.touches[0].pageX:b.pageX,a.my="undefined"!=typeof b.originalEvent.touches?b.originalEvent.touches[0].pageY:b.pageY}).on(i,this,function(b){return clearTimeout(a.controlTimer),a.lens&&a.lens.fadeOut(299),a.tint&&a.tint.fadeOut(299),a.softFocus&&a.softFocus.fadeOut(299),a.zoomDiv.fadeOut(300,function(){a._onLeave()}),!1}).on(k,this,function(b){a.options.onClick()}).on(j,this,function(d){a.options.onEnter(),g&&d.preventDefault(),a.mx="undefined"!=typeof d.originalEvent.touches?d.originalEvent.touches[0].pageX:d.pageX,a.my="undefined"!=typeof d.originalEvent.touches?d.originalEvent.touches[0].pageY:d.pageY,a.zw=d.data,a.zoomDiv&&(a.zoomDiv.stop(!0,!1),a.zoomDiv.remove());var h=a.options.adjustX,i=a.options.adjustY,j=f.outerWidth(),k=f.outerHeight(),l=a.options.zoomWidth,m=a.options.zoomHeight;"auto"==a.options.zoomWidth&&(l=j),"auto"==a.options.zoomHeight&&(m=k);var n=e.parent();switch(a.options.position){case"top":i-=m;break;case"right":h+=j;break;case"bottom":i+=k;break;case"left":h-=l;break;case"inside":l=j,m=k;break;default:n=b("#"+a.options.position),n.length?(l=n.innerWidth(),m=n.innerHeight()):(n=e,h+=j,i+=k)}a.isPhone&&"inside"==a.options.phoneBehavior&&(l=j,m=k,h=0,i=0),a.zoomDiv=b('<div class="yith_magnifier_zoom_magnifier" />').css({left:h,top:i,width:l,height:m,"background-repeat":"no-repeat",backgroundImage:"url("+c.src+")"}).appendTo(n),f.attr("title")&&a.options.showTitle&&b('<div class="yith_magnifier_title">'+f.attr("title")+"</div>").appendTo(a.zoomDiv),a.isPhone?"disable"!=a.options.phoneBehavior?a.zoomDiv.fadeIn(500):a.lens.fadeOut(299):a.zoomDiv.fadeIn(500),a.lens&&(a.lens.remove(),a.lens=null),c.width<=1?a.cw=f.outerWidth()/c.naturalWidth*a.zoomDiv.width():a.cw=f.outerWidth()/c.width*a.zoomDiv.width(),c.height<=1?a.ch=f.outerHeight()/c.naturalHeight*a.zoomDiv.height():a.ch=f.outerHeight()/c.height*a.zoomDiv.height(),a.lens=b('<div class="yith_magnifier_lens" />').css({width:a.cw,height:a.ch}).appendTo(e),a.mouseTrap.css("cursor",a.lens.css("cursor"));var o=!1;a.options.tint&&(a.tint=b("<div />").css({display:"none",position:"absolute",left:0,top:0,width:f.outerWidth(),height:f.outerHeight(),backgroundColor:a.options.tint,opacity:a.options.tintOpacity}).appendTo(e),a.lens.append(b("<img />",{src:f.attr("src")})),o=!0,a.tint.fadeIn(500)),a.options.softFocus&&(a.softFocus=b("<div />").css({position:"absolute",display:"none",top:"1px",left:"1px",width:f.outerWidth(),height:f.outerHeight(),opacity:.5}).appendTo(e),a.softFocus.append(b("<img />",{src:f.attr("src")})),0==a.lens.find("img").length&&a.lens.append(b("<img />",{src:f.attr("src")})),o=!0,a.softFocus.fadeIn(500)),o||a.lens.css("opacity",a.options.lensOpacity),"inside"!==a.options.position&&a.lens.fadeIn(500),a.zw._controlLoop()})},_controlLoop:function(){var a=this;if(this.lens){var b=this.mx-this.zoomImage.offset().left-.5*this.cw>>0,c=this.my-this.zoomImage.offset().top-.5*this.ch>>0;b<0?b=0:b>this.zoomImage.outerWidth()-this.cw&&(b=this.zoomImage.outerWidth()-this.cw),c<0?c=0:c>this.zoomImage.outerHeight()-this.ch&&(c=this.zoomImage.outerHeight()-this.ch),this.lens.css({left:b-2,top:c-1}),this.lens.find("img").css({width:this.zoomImage.outerWidth(),height:this.zoomImage.outerHeight(),marginLeft:-b+"px ",marginTop:-c+"px"}),this.IMG_zoomImage.width<=1?this.destU=b/this.zoomImage.outerWidth()*this.IMG_zoomImage.naturalWidth>>0:this.destU=b/this.zoomImage.outerWidth()*this.IMG_zoomImage.width>>0,this.IMG_zoomImage.height<=1?this.destV=c/this.zoomImage.outerHeight()*this.IMG_zoomImage.naturalHeight>>0:this.destV=c/this.zoomImage.outerHeight()*this.IMG_zoomImage.height>>0,this.currU+=(this.destU-this.currU)/this.options.smoothMove,this.currV+=(this.destV-this.currV)/this.options.smoothMove,this.zoomDiv.css("background-position",-(this.currU>>0)+"px "+(-(this.currV>>0)+"px"))}this.controlTimer=setTimeout(function(){a._controlLoop()},30)},_onLeave:function(){this.options.onLeave(),this.zoomDiv&&(this.zoomDiv.remove(),this.zoomDiv=null),this._removeElements()},_removeElements:function(){this.lens&&(this.lens.remove(),this.lens=null),this.tint&&(this.tint.remove(),this.tint=null),this.softFocus&&(this.softFocus.remove(),this.softFocus=null),this.element.find(".yith_magnifier_loading").length>0&&this.element.find(".yith_magnifier_loading").remove()},_isPhone:function(){var a=navigator.userAgent.toLowerCase();return a.match(/iphone/i)||a.match(/ipod/i)||a.match(/android/i)},destroy:function(){this.zoom&&this.zoom.unwrap(),this.mouseTrap&&(this.mouseTrap.unbind(),this.mouseTrap.remove(),this.mouseTrap=null),this.zoomDiv&&(this.zoomDiv.remove(),this.zoomDiv=null),this.options.disableRightClick&&b(document).unbind(),this._removeElements(),this.options.elements.gallery.unbind(),this.element.removeData("yith_magnifier")}},b.fn.yith_magnifier=function(a){if("string"==typeof a){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=b.data(this,"yith_magnifier");return d?b.isFunction(d[a])&&"_"!==a.charAt(0)?void d[a].apply(d,c):void b.error("no such method '"+a+"' for yith_magnifier instance"):void b.error("cannot call methods on yith_magnifier prior to initialization; attempted to call method '"+a+"'")})}else this.each(function(){var c=b.data(this,"yith_magnifier");c?b.error("yith_magnifier already istantiated."):b.data(this,"yith_magnifier",new b.yith_magnifier(a,this))});return this}}(window,jQuery);