jQuery(function(s){s("body").on("click","button.ywrr-send-test-email",function(){var e=s(this).next(),a=s(this).prev().attr("value"),r=s("#ywrr_mail_template").val()||"base",t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(e.show(),e.removeClass("send-progress send-fail send-success"),t.test(a)){var l={action:"ywrr_send_test_mail",email:a,template:r};e.addClass("send-progress"),e.html(ywrr_admin.before_send_test_email),s.post(ywrr_admin.ajax_url,l,function(s){e.removeClass("send-progress"),s===!0?(e.addClass("send-success"),e.html(ywrr_admin.after_send_test_email)):(e.addClass("send-fail"),e.html(s.error))})}else e.addClass("send-fail"),e.html(ywrr_admin.test_mail_wrong)})});